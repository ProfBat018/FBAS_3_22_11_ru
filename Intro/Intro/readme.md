# Введение в системное программирование 

Есть несколько вариантов того, как реализовать 
псевдо-параллельность в программе. 
- Многопоточность
- Асинхронность
- Реактивность

## Начнем с самого важноого

ВЫ ДОЛЖГЫ ПОНЯТЬ ЧТО `МНОГОЗАДАЧНОСТЬ`
И `МНОГОПОТОЧНОСТЬ` ЭТО РАЗНЫЕ ВЕЩИ

`Многозадачность` - это способность 
системы выполнять сразу несколько задач.
При этом вы должны понимать, что 
эти задачи могут выполняться 
как в одном потоке, так и в нескольких.


Посмотрим на примере с низкого до высокого уровня 
какие инструменты есть в C#
- Thread
- ThreadPool
- Task
- async/await

## Thread

Thread - это самый низкоуровневый инструмент для
работы с потоками в C#. 

Сразу поговорим про то, что `Thread` - это 
не самый безопасный инструмент для работы с потоками.

1. Мы сами должны создавать объект этого класса
Дело в том что при создании он сразу 
обращается в операционную систему и просит у него 
поток. Тут есть проблема что мы не можем переназначить 
ему другую `задачу`

Пример:
```csharp
ThreadStart action = () => 
{
    Console.WriteLine("Hello from thread");
};


Thread th1 = new Thread(action);
```

Справка:
`Thread` - это класс, который запрашивает новый поток.
`ThradStart` - это как Action делегат, только для потоков.

2. Мы сами должны управлять жизненным циклом потока
3. Мы сами должны управлять приоритетом потока
4. На самом деле такой подход работает быстро
потому что мы можем создать много потоков, но это очень
ресурсоемко и ими сложно управлять.

# Унаследованный код 

Угаследованный код(на английском legacy code) - это код, 
который был написан давно и его сложно поддерживать. Таким 
кодом также называют библиотеку которая была создана давно. 

## Как работать с унаследованным кодом в C#

Вы всегда можете вставить какой-то `.dll` в свой проект. 
Просто нужно открыть вкладку `Dependencies` и добавить 
его в `ProjectReference`. 

Как пример такого кода я могу вам показать библиотеку `WinApi`.

`WinApi` или `Windows API` - это набор готовых функций на низком уровне
для взаимодействия вашего приложения с операционной системой. К примеру чтобы 
делать захват экрана или работать с файлами или делать захват и управлять системой 
как в `Microsoft Teams`.




